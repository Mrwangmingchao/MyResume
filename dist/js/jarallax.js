!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(c){Date.now||(Date.now=function(){return(new Date).getTime()}),window.requestAnimationFrame||function(){"use strict";for(var e=["webkit","moz"],t=0;t<e.length&&!window.requestAnimationFrame;++t){var n=e[t];window.requestAnimationFrame=window[n+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var i=0;window.requestAnimationFrame=function(e){var t=Date.now(),n=Math.max(i+16,t);return setTimeout(function(){e(i=n)},n-t)},window.cancelAnimationFrame=clearTimeout}}();var a,e,r=function(){for(var e="transform WebkitTransform MozTransform OTransform msTransform".split(" "),t=document.createElement("div"),n=0;n<e.length;n++)if(t&&void 0!==t.style[e[n]])return e[n];return!1}(),m=function(){if(!window.getComputedStyle)return!1;var e,t=document.createElement("p"),n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var i in(document.body||document.documentElement).insertBefore(t,null),n)void 0!==t.style[i]&&(t.style[i]="translate3d(1px,1px,1px)",e=window.getComputedStyle(t).getPropertyValue(n[i]));return(document.body||document.documentElement).removeChild(t),void 0!==e&&0<e.length&&"none"!==e}(),o=-1<navigator.userAgent.toLowerCase().indexOf("android"),l=[],s=(a=0,function(e,t){var n,i=this;i.$item=c(e),i.defaults={speed:.5,imgSrc:null,imgWidth:null,imgHeight:null,enableTransform:!0,zIndex:-100},n=i.$item.data("jarallax")||{},i.options=c.extend({},i.defaults,n,t),i.options.speed=Math.min(1,Math.max(0,parseFloat(i.options.speed))),i.instanceID=a++,i.image={src:i.options.imgSrc||null,$container:null,$item:null,width:i.options.imgWidth||null,height:i.options.imgHeight||null,useImgTag:o},i.initImg()&&(i.init(),l.push(i))});s.prototype.initImg=function(){var e=this;return null===e.image.src&&(e.image.src=e.$item.css("background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")),!(!e.image.src||"none"===e.image.src)},s.prototype.init=function(){var n=this,e={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden","pointer-events":"none",transition:"transform linear -1ms, -webkit-transform linear -1ms"},t={position:"fixed"};n.image.$container=c("<div>").css(e).css({visibility:"hidden","z-index":n.options.zIndex}).attr("id","jarallax-container-"+n.instanceID).prependTo(n.$item),t=n.image.useImgTag?(n.image.$item=c("<img>").attr("src",n.image.src),c.extend({},e,t)):(n.image.$item=c("<div>"),c.extend({"background-position":"50% 50%","background-repeat":"no-repeat no-repeat","background-image":"url("+n.image.src+")"},e,t)),n.image.$item.css(t).prependTo(n.image.$container),n.getImageSize(n.image.src,function(e,t){n.image.width=e,n.image.height=t,window.requestAnimationFrame(function(){n.coverImage(),n.clipContainer(),n.onScroll()}),n.$item.data("jarallax-original-styles",n.$item.attr("style")),setTimeout(function(){n.$item.css({"background-image":"none","background-attachment":"scroll","background-size":"auto"})},0)})},s.prototype.destroy=function(){for(var e=this,t=0,n=l.length;t<n;t++)if(l[t].instanceID===e.instanceID){l.splice(t,1);break}c("head #jarallax-clip-"+e.instanceID).remove(),e.$item.attr("style",e.$item.data("jarallax-original-styles")),e.$item.removeData("jarallax-original-styles"),e.image.$container.remove(),delete e.$item[0].jarallax},s.prototype.round=function(e){return Math.floor(100*e)/100},s.prototype.getImageSize=function(e,t){if(!e||!t)return!1;var n=new Image;n.onload=function(){t(n.width,n.height)},n.src=e},s.prototype.clipContainer=function(){var e=this,t=e.image.$container.outerWidth(!0),n=e.image.$container.outerHeight(!0),i=c("head #jarallax-clip-"+e.instanceID);i.length||(c("head").append('<style type="text/css" id="jarallax-clip-'+e.instanceID+'"></style>'),i=c("head #jarallax-clip-"+e.instanceID));var a=["#jarallax-container-"+e.instanceID+" {","   clip: rect(0px "+t+"px "+n+"px 0);","   clip: rect(0px, "+t+"px, "+n+"px, 0);","}"].join("\n");i[0].styleSheet?i[0].styleSheet.cssText=a:i.html(a)},s.prototype.coverImage=function(){var e=this;if(e.image.width&&e.image.height){var t,n,i=e.image.$container.outerWidth(!0),a=e.image.$container.outerHeight(!0),o=c(window).outerWidth(!0),r=c(window).outerHeight(!0),m=e.image.width,l=e.image.height,s={width:Math.max(o,i)*Math.max(e.options.speed,1),height:Math.max(r,a)*Math.max(e.options.speed,1)};n=s.width/s.height>m/l?(t=s.width,s.width*l/m):(t=s.height*m/l,s.height),e.image.useImgTag?(s.width=e.round(t),s.height=e.round(n),s.marginLeft=e.round(-(t-i)/2),s.marginTop=e.round(-(n-a)/2)):s.backgroundSize=e.round(t)+"px "+e.round(n)+"px",e.image.$item.css(s)}},s.prototype.onScroll=function(){var e=this;if(e.image.width&&e.image.height){var t=c(window).scrollTop(),n=c(window).height(),i=e.$item.offset().top,a={visibility:"visible",backgroundPosition:"50% 50%"};if(!(i+e.$item.outerHeight(!0)<t||t+n<i)){var o=-(t-i)*e.options.speed;o=e.round(o),r&&e.options.enableTransform?(a.transform="translateY("+o+"px)",m&&(a.transform="translate3d(0, "+o+"px, 0)")):a.backgroundPosition="50% "+o+"px",e.image.$item.css(a)}}},c(window).on("scroll.jarallax",function(){window.requestAnimationFrame(function(){for(var e=0,t=l.length;e<t;e++)l[e].onScroll()})}),c(window).on("resize.jarallax load.jarallax",function(){clearTimeout(e),e=setTimeout(function(){window.requestAnimationFrame(function(){for(var e=0,t=l.length;e<t;e++){var n=l[e];n.coverImage(),n.clipContainer(),n.onScroll()}})},100)});var t=c.fn.jarallax;c.fn.jarallax=function(){for(var e,t=this,n=arguments[0],i=Array.prototype.slice.call(arguments,1),a=t.length,o=0;o<a;o++)if("object"==typeof n||void 0===n?t[o].jarallax=new s(t[o],n):e=t[o].jarallax[n].apply(t[o].jarallax,i),void 0!==e)return e;return this},c.fn.jarallax.noConflict=function(){return c.fn.jarallax=t,this},c(document).on("ready.data-jarallax",function(){c("[data-jarallax]").jarallax()})});